<!DOCTYPE html>
<html lang="{{ lang }}">
<head>
    <meta charset="UTF-8">
    <title>Wallcraft</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- –û–°–ù–û–í–ù–û–ô –°–¢–ò–õ–¨ -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

    <!-- –û–°–ù–û–í–ù–û–ô JS -->
    <script defer src="{{ url_for('static', filename='js/main.js') }}"></script>
</head>
<body>

<header class="top-header">

    <!-- ‚ò∞ –ú–ï–ù–Æ -->
    <div class="menu-btn" onclick="toggleMenu()">‚ò∞</div>

    <!-- –õ–û–ì–û -->
    <div class="logo-center">
        <a href="/">WALLCRAFT</a>
    </div>

    <!-- –Ø–ó–´–ö -->
    <div class="lang-switch">
        <a href="?lang=ru">RU</a> |
        <a href="?lang=lv">LV</a>
    </div>

    <!-- –ö–û–†–ó–ò–ù–ê -->
    <div class="cart-link">
        <a href="/cart">
            üõí <span id="cart-count">
                {{ session.get("cart", {}).values() | sum }}
            </span>
        </a>
    </div>

</header>

<!-- –í–´–ï–ó–ñ–ê–Æ–©–ï–ï –ú–ï–ù–Æ -->
<div id="sideMenu" class="side-menu">
    <a href="/" onclick="toggleMenu()">üè† –ì–ª–∞–≤–Ω–∞—è</a>
    <a href="/catalog" onclick="toggleMenu()">üì¶ –ö–∞—Ç–∞–ª–æ–≥</a>
    <hr>
    <a href="/cart" onclick="toggleMenu()">üõí –ö–æ—Ä–∑–∏–Ω–∞</a>
</div>

<main class="container">
    {% block content %}{% endblock %}
</main>

<!-- POPUP –ö–û–†–ó–ò–ù–´ -->
<div id="cart-popup" class="cart-popup">
    <div class="cart-popup-content">
        <p>‚úÖ –¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É</p>

        <a href="/catalog" class="popup-btn">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–æ–∫—É–ø–∫–∏</a>
        <a href="/cart" class="popup-btn primary">–ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–æ—Ä–∑–∏–Ω—É</a>

        <button class="close-popup" onclick="closeCartPopup()">√ó</button>
    </div>
</div>

<!-- –ú–ï–ù–Æ + POPUP -->
<script>
function toggleMenu() {
    document.getElementById("sideMenu").classList.toggle("open");
}

function openCartPopup() {
    document.getElementById("cart-popup").classList.add("show");
}

function closeCartPopup() {
    document.getElementById("cart-popup").classList.remove("show");
}
</script>

</body>
</html>
