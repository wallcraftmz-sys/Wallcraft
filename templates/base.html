<!DOCTYPE html>
<html lang="{{ lang }}">
<head>
    <meta charset="UTF-8">
    <title>Wallcraft</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>

<header class="top-header">

    <!-- ‚ò∞ –ú–ï–ù–Æ -->
    <div class="menu-btn" onclick="toggleMenu()">‚ò∞</div>

    <!-- –õ–û–ì–û -->
    <div class="logo-center">
        <a href="/">WALLCRAFT</a>
    </div>

    <!-- –Ø–ó–´–ö -->
    <div class="lang-switch">
        <a href="?lang=ru">RU</a> |
        <a href="?lang=lv">LV</a>
    </div>

</header>

<!-- –í–´–ï–ó–ñ–ê–Æ–©–ï–ï –ú–ï–ù–Æ -->
<div id="sideMenu" class="side-menu">
    <a href="/" onclick="toggleMenu()">üè† –ì–ª–∞–≤–Ω–∞—è</a>
    <a href="/catalog" onclick="toggleMenu()">üì¶ –ö–∞—Ç–∞–ª–æ–≥</a>
    <a href="/about" onclick="toggleMenu()">‚ÑπÔ∏è –û –∫–æ–º–ø–∞–Ω–∏–∏</a>
    <a href="/contact" onclick="toggleMenu()">üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
    <hr>
    <a href="/login" onclick="toggleMenu()">üë§ –í—Ö–æ–¥</a>
    <a href="/register" onclick="toggleMenu()">üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
</div>

<main class="container">
    {% block content %}{% endblock %}
</main>

<!-- POPUP –ö–û–†–ó–ò–ù–´ -->
<div id="cart-popup" class="cart-popup">
    <div class="cart-popup-content">
        <p>–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É</p>

        <a href="/catalog" class="popup-btn">–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥</a>
        <a href="/cart" class="popup-btn primary">–ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–æ—Ä–∑–∏–Ω—É</a>

        <button class="close-popup" onclick="closeCartPopup()">√ó</button>
    </div>
</div>

<script>
function toggleMenu() {
    document.getElementById("sideMenu").classList.toggle("open");
}

function addToCart(productId) {
    fetch(`/api/add_to_cart/${productId}`, { method: "POST" })
        .then(() => openCartPopup());
}

function openCartPopup() {
    document.getElementById("cart-popup").classList.add("show");
}

function closeCartPopup() {
    document.getElementById("cart-popup").classList.remove("show");
}
</script>

</body>
</html>
