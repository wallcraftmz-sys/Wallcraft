<!DOCTYPE html>
<html lang="{{ lang }}">
<head>
    <meta charset="UTF-8">
    <title>Wallcraft</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- CSS -->
    <link rel="stylesheet"
          href="{{ url_for('static', filename='css/style.css') }}?v=1001">

    <!-- JS -->
    <script defer src="{{ url_for('static', filename='js/main.js') }}"></script>
</head>
<body>

<header class="top-header">
    <button class="menu-btn" onclick="toggleMenu()" aria-label="Menu">
        ‚ò∞
    </button>

    <!-- –õ–û–ì–û + –ù–ê–ó–í–ê–ù–ò–ï -->
    <div class="logo-center">
        <a href="/" class="logo-link">
            <img
                src="{{ url_for('static', filename='images/logo_wallcraft.png') }}"
                alt="Wallcraft logo"
                class="logo-img"
            >
            <span class="logo-text">Wallcraft</span>
        </a>
    </div>

    <div class="lang-switch">
        <a href="?lang=ru">RU</a> |
        <a href="?lang=lv">LV</a>
    </div>
</header>

<!-- –ó–ê–¢–ï–ú–ù–ï–ù–ò–ï -->
<div id="menuOverlay" class="menu-overlay" onclick="toggleMenu()"></div>

<!-- –ë–û–ö–û–í–û–ï –ú–ï–ù–Æ -->
<div id="sideMenu" class="side-menu">
    <a href="/" onclick="toggleMenu()">üè† –ì–ª–∞–≤–Ω–∞—è</a>
    <a href="/catalog" onclick="toggleMenu()">üì¶ –ö–∞—Ç–∞–ª–æ–≥</a>
    <a href="/about" onclick="toggleMenu()">‚ÑπÔ∏è –û –∫–æ–º–ø–∞–Ω–∏–∏</a>

    <hr>

    {% if session.get("is_admin") %}
        <a href="/dashboard" onclick="toggleMenu()">üõ†Ô∏è –ö–∞–±–∏–Ω–µ—Ç</a>
        <a href="/admin/orders" onclick="toggleMenu()">üìã –ó–∞–∫–∞–∑—ã</a>
        <a href="/logout" onclick="toggleMenu()">üö™ –í—ã–π—Ç–∏</a>
    {% else %}
        <a href="/login" onclick="toggleMenu()">üîê –í—Ö–æ–¥</a>
    {% endif %}
</div>

<main class="container">
    {% block content %}{% endblock %}
</main>

<!-- POPUP –ö–û–†–ó–ò–ù–´ -->
<div id="cart-popup" class="cart-popup">
    <div class="cart-popup-content">
        <p>‚úÖ –¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É</p>

        <a href="/catalog" class="popup-btn">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–æ–∫—É–ø–∫–∏</a>
        <a href="/cart" class="popup-btn primary">–ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–æ—Ä–∑–∏–Ω—É</a>

        <button class="close-popup" onclick="closeCartPopup()">√ó</button>
    </div>
</div>

<!-- –ü–õ–ê–í–ê–Æ–©–ê–Ø –ö–û–†–ó–ò–ù–ê -->
<a href="/cart" class="floating-cart">
    üõí
    <span id="cart-count">
        {{ session.get("cart", {}).values() | sum }}
    </span>
</a>

</body>
</html>
