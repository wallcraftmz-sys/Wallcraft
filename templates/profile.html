{% extends "base.html" %}
{% block content %}

{% set STATUS_LABELS = {
    "new": {"ru": "Новый", "lv": "Jauns", "en": "New"},
    "confirmed": {"ru": "Подтверждён", "lv": "Apstiprināts", "en": "Confirmed"},
    "in_progress": {"ru": "В работе", "lv": "Procesā", "en": "In progress"},
    "shipped": {"ru": "Отправлен", "lv": "Nosūtīts", "en": "Shipped"},
    "completed": {"ru": "Завершён", "lv": "Pabeigts", "en": "Completed"},
    "cancelled": {"ru": "Отменён", "lv": "Atcelts", "en": "Cancelled"}
} %}

<h1 class="page-title">
    {{ "Личный кабинет" if lang == "ru" else "Profile" }}
</h1>

<p>
    {{ "Пользователь" if lang == "ru" else "User" }}:
    <strong>{{ current_user.username }}</strong>
</p>

<h2 style="margin-top:20px">
    {{ "Мои заказы" if lang == "ru" else "My orders" }}
</h2>

{% if orders %}

<div class="orders-list">
    {% for order in orders %}
    <div class="order-card">
        <div class="order-header">
            <strong>#{{ order.id }}</strong>
            <span class="order-status status-{{ order.status }}">
                {{ STATUS_LABELS[order.status][lang] }}
            </span>
        </div>

        <div class="order-body">
            <div>{{ order.items }}</div>
            <div class="order-total">{{ order.total }} €</div>
        </div>

        <div class="order-footer">
            {{ order.created_at.strftime("%d.%m.%Y %H:%M") }}
        </div>
    </div>
    {% endfor %}
</div>

{% else %}
<p>{{ "У вас пока нет заказов" if lang == "ru" else "No orders yet" }}</p>
{% endif %}

{% endblock %}
