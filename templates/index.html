{% extends "base.html" %}
{% block content %}

<h1 style="text-align:center; margin-bottom:30px;">
    {{ "Добро пожаловать в Wallcraft" if lang == "ru" else "Laipni lūdzam Wallcraft" }}
</h1>

<div style="display:flex; flex-wrap:wrap; gap:20px; justify-content:center;">
    {% for product in products %}
    <div style="
        background:#ffffff;
        padding:15px;
        border-radius:8px;
        max-width:260px;
        width:100%;
        box-shadow:0 2px 8px rgba(0,0,0,0.1);
        text-align:center;
    ">
        <a href="{{ url_for('product', id=product.id) }}" style="color:inherit; text-decoration:none;">
            {% if product.image and product.image.startswith('http') %}
                <img src="{{ product.image }}" 
                     alt="{{ product.get('name_' + lang, product.get('name_ru')) }}" 
                     style="width:100%; height:auto; border-radius:8px;">
            {% else %}
                <img src="{{ url_for('static', filename=product.image) }}" 
                     alt="{{ product.get('name_' + lang, product.get('name_ru')) }}" 
                     style="width:100%; height:auto; border-radius:8px;">
            {% endif %}

            <h3 style="margin:10px 0 5px;">
                {{ product.get("name_" + lang, product.get("name_ru")) }}
            </h3>
            <p style="color:#666; font-size:14px;">
                {{ product.get("description_" + lang, product.get("description_ru"))[:120] }}{% if product.get("description_" + lang, product.get("description_ru"))|length > 120 %}…{% endif %}
            </p>
            <p class="price" style="font-weight:bold; margin-top:5px;">
                {{ product.price }} €
            </p>
        </a>
    </div>
    {% endfor %}
</div>

{% endblock %}
