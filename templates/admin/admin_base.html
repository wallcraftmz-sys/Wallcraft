<!DOCTYPE html>
<html lang="{{ lang }}">
<head>
    <meta charset="UTF-8">
    <title>Admin | Wallcraft</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet"
          href="{{ url_for('static', filename='css/style.css') }}">

    <script defer src="{{ url_for('static', filename='js/main.js') }}"></script>
</head>
<body>

<header class="top-header">

    <!-- MENU BUTTON -->
    <button class="menu-btn" onclick="toggleMenu()">‚ò∞</button>

    <!-- LOGO -->
    <div class="logo-center">
        <a href="{{ url_for('admin_panel') }}" class="logo-link">
            <img
                src="{{ url_for('static', filename='images/IMG_0857.jpeg') }}"
                alt="Wallcraft"
                class="logo-img"
            >
            <span class="logo-text">Wallcraft</span>
        </a>
    </div>

    <!-- LANGUAGE SWITCH -->
    <div class="lang-switch">
        <a href="?lang=ru" class="{{ 'active' if lang == 'ru' }}">RU</a> |
        <a href="?lang=lv" class="{{ 'active' if lang == 'lv' }}">LV</a> |
        <a href="?lang=en" class="{{ 'active' if lang == 'en' }}">EN</a>
    </div>

</header>

<!-- OVERLAY -->
<div id="menuOverlay" class="menu-overlay" onclick="closeMenu()"></div>


<!-- SIDE MENU -->
<div id="sideMenu" class="side-menu" role="dialog" aria-modal="true" aria-label="–ú–µ–Ω—é">
    <div class="side-menu-head">
        <div class="side-menu-title">–ú–µ–Ω—é</div>
        <button class="side-menu-close" type="button" onclick="closeMenu()" aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
    </div>

    <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
    <div class="side-menu-card">
        <div class="side-menu-card-title">–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</div>

        <!-- –í–∞—Ä–∏–∞–Ω—Ç 1 (–±–µ–∑ –Ω–æ–≤—ã—Ö —Ä–æ—É—Ç–æ–≤): –≤–µ–¥—ë–º –Ω–∞ /admin/products –∏ —Ç–∞–º –¥–æ–±–∞–≤–ª—è–µ—à—å —Ç–æ–≤–∞—Ä -->
        <a class="side-menu-action"
           href="{{ url_for('admin_products') }}"
           onclick="closeMenu()">
            <span class="ico">‚ûï</span>
            <span class="txt">–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</span>
        </a>

        <!-- –ë—ã—Å—Ç—Ä—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –≤ –∫–∞—Ç–∞–ª–æ–≥ -->
        <a class="side-menu-action"
           href="{{ url_for('catalog') }}"
           onclick="closeMenu()">
            <span class="ico">üõç</span>
            <span class="txt">–û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ç–∞–ª–æ–≥</span>
        </a>

        <!-- –ó–∞–∫–∞–∑—ã -->
        <a class="side-menu-action"
           href="{{ url_for('admin_orders') }}"
           onclick="closeMenu()">
            <span class="ico">üßæ</span>
            <span class="txt">–ü–µ—Ä–µ–π—Ç–∏ –∫ –∑–∞–∫–∞–∑–∞–º</span>
        </a>
    </div>

    <div class="side-menu-section">
        <a class="side-menu-link {% if request.endpoint == 'admin_panel' %}active{% endif %}"
           href="{{ url_for('admin_panel') }}" onclick="closeMenu()">
            <span class="ico">üè†</span> –ê–¥–º–∏–Ω–∫–∞
        </a>

        <a class="side-menu-link {% if request.endpoint == 'admin_products' %}active{% endif %}"
           href="{{ url_for('admin_products') }}" onclick="closeMenu()">
            <span class="ico">üß±</span> –¢–æ–≤–∞—Ä—ã
        </a>

        <a class="side-menu-link {% if request.endpoint in ['admin_orders','admin_order_view'] %}active{% endif %}"
           href="{{ url_for('admin_orders') }}" onclick="closeMenu()">
            <span class="ico">üßæ</span> –ó–∞–∫–∞–∑—ã
        </a>

        <a class="side-menu-link {% if request.endpoint == 'catalog' %}active{% endif %}"
           href="{{ url_for('catalog') }}" onclick="closeMenu()">
            <span class="ico">üõç</span> –ö–∞—Ç–∞–ª–æ–≥
        </a>
    </div>

    <div class="side-menu-divider"></div>

    <div class="side-menu-section">
        <a class="side-menu-link danger"
           href="{{ url_for('logout') }}" onclick="closeMenu()">
            <span class="ico">üö™</span> –í—ã–π—Ç–∏
        </a>
    </div>
</div>

<main class="container admin-container">
    {% block content %}{% endblock %}
</main>

<script>
function toggleMenu() {
    const menu = document.getElementById("sideMenu");
    const overlay = document.getElementById("menuOverlay");

    if (!menu || !overlay) return;

    menu.classList.toggle("open");
    overlay.classList.toggle("show");
}

function closeMenu() {
    const menu = document.getElementById("sideMenu");
    const overlay = document.getElementById("menuOverlay");

    if (menu) menu.classList.remove("open");
    if (overlay) overlay.classList.remove("show");
}
</script>

</body>
</html>
