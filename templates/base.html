<!DOCTYPE html>
<html lang="{{ lang }}">
<head>
    <meta charset="UTF-8">
    <title>Wallcraft</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>

<header class="top-header">

    <!-- ‚ò∞ –ö–ù–û–ü–ö–ê –ú–ï–ù–Æ -->
    <div class="menu-btn" onclick="toggleMenu()">‚ò∞</div>

    <!-- –õ–û–ì–û -->
    <div class="logo-center">
        <a href="/">WALLCRAFT</a>
    </div>

    <!-- –Ø–ó–´–ö -->
    <div class="lang-switch">
        <a href="?lang=ru">RU</a> |
        <a href="?lang=lv">LV</a>
    </div>

</header>

<!-- –í–´–ï–ó–ñ–ê–Æ–©–ï–ï –ú–ï–ù–Æ -->
<div id="sideMenu" class="side-menu">
    <a href="/" onclick="toggleMenu()">üè† –ì–ª–∞–≤–Ω–∞—è</a>
    <a href="/catalog" onclick="toggleMenu()">üì¶ –ö–∞—Ç–∞–ª–æ–≥</a>
    <a href="/about" onclick="toggleMenu()">‚ÑπÔ∏è –û –∫–æ–º–ø–∞–Ω–∏–∏</a>
    <a href="/contact" onclick="toggleMenu()">üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
    <hr>
    <a href="/login" onclick="toggleMenu()">üë§ –í—Ö–æ–¥</a>
    <a href="/register" onclick="toggleMenu()">üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
</div>

<main class="container">
    {% block content %}{% endblock %}
</main>
<script>
function toggleMenu() {
    const menu = document.getElementById("sideMenu");
    menu.classList.toggle("open");
}
</script>
    <!-- POPUP –ö–û–†–ó–ò–ù–´ -->
<div id="cartPopup" class="cart-popup">
    <div class="cart-popup-box">
        <h3>–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É</h3>

        <div class="cart-popup-buttons">
            <a href="/catalog" class="btn gray">–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥</a>
            <a href="/cart" class="btn green">–ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–æ—Ä–∑–∏–Ω—É</a>
        </div>

        <button class="close-popup" onclick="closeCartPopup()">√ó</button>
    </div>
</div>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <script>
function addToCart(productId) {
    fetch(`/api/add_to_cart/${productId}`, { method: 'POST' })
        .then(res => res.json())
        .then(data => {
            if (data.success) {
                document.getElementById("cart-popup").style.display = "block";
            }
        });
}

function closeCartPopup() {
    document.getElementById("cart-popup").style.display = "none";
}
</script>

<div id="cart-popup" style="
    display:none;
    position:fixed;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    background:white;
    padding:20px;
    border:1px solid #ccc;
    z-index:9999;
">
    <p>–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É</p>
    <a href="/cart">–ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–æ—Ä–∑–∏–Ω—É</a><br><br>
    <button onclick="closeCartPopup()">–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥</button>
</div>
</body>
</html>
