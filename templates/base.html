<!DOCTYPE html>
<html lang="{{ session.get('lang', 'ru') }}">
<head>
    <meta charset="UTF-8">
    <title>Wallcraft</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<header>
    <div class="menu-btn" onclick="toggleMenu()">â˜°</div>
    <div class="logo"><a href="/">WALLCRAFT</a></div>
    <div class="lang-switch">
        <a href="?lang=ru">RU</a> | <a href="?lang=lv">LV</a>
    </div>
    <div id="dropdownMenu" class="dropdown-menu">
        <a href="/catalog?cat=walls">ÐžÐ±Ð¾Ð¸</a>
        <hr>
        <a href="/admin/login">Ð’Ñ…Ð¾Ð´</a>
    </div>
</header>

<main>
    {% block content %}{% endblock %}
</main>

<a href="/cart?lang={{ session.get('lang','ru') }}" class="floating-cart">
    ðŸ›’
    <span id="cart-count">
        {{ session.get('cart') | sum(attribute='1') if session.get('cart') else 0 }}
    </span>
</a>

<script>
function toggleMenu() {
    const menu = document.getElementById("dropdownMenu");
    menu.style.display = menu.style.display === "block" ? "none" : "block";
}
document.addEventListener("click", function(e) {
    if (!e.target.closest(".menu-btn") && !e.target.closest(".dropdown-menu")) {
        document.getElementById("dropdownMenu").style.display = "none";
    }
});
</script>

</body>
</html>
